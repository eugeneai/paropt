\documentclass[10pt]{beamer}
\usepackage{amsmath,amssymb,longtable,hhline}
\usepackage{mathrsfs}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{hyperref}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\lstset{language=Python,
  basicstyle=\footnotesize\ttfamily,        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{mygreen},    % comment style
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
%  frame=single,                    % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  keywordstyle=\color{blue},       % keyword style
%  numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{mymauve},     % string literal style
  tabsize=2,                       % sets default tabsize to 2 spaces
%  title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of
}

\usetheme{Warsaw}
\usecolortheme{crane}
\beamertemplatenavigationsymbolsempty

\usepackage{iftex,ifxetex}
\ifPDFTeX
  \usepackage[utf8]{inputenc}
  \usepackage[T1]{fontenc}
  \usepackage[russian]{babel}
  \usepackage{lmodern}
  \usefonttheme{serif}
\else
  \ifluatex
    \usepackage{unicode-math}
    \defaultfontfeatures{Ligatures=TeX,Numbers=OldStyle}
    \setmathfont{Latin Modern Math}
    \setsansfont{Linux Biolinum O}
    \usefonttheme{professionalfonts}
    \setmathfont[
        Ligatures=TeX,
        Scale=MatchLowercase,
        math-style=upright,
        vargreek-shape=unicode
        ]{euler.otf}
  \fi
\fi

%\useoutertheme{split}
%\useinnertheme{rounded}
\setbeamertemplate{background canvas}[vertical shading][bottom=white!80!cyan!20,top=cyan!10]
%\setbeamertemplate{sidebar canvas left}[horizontal shading][left=white!40!black,right=black]

\graphicspath{{pics/}}


% --------------------------

\begin{document}
\title[КОМПЬЮТЕРНАЯ АЛГЕБРА В ЗАДАЧАХ ОПТИМИЗАЦИИ]{ПРИМЕНЕНИЕ КОМПЬЮТЕРНОЙ АЛГЕБРЫ\\
В РЕАЛИЗАЦИИ АЛГОРИТМОВ УЛУЧШЕНИЯ}
\author{Черкашин Е.А., Бадмацыренова С.Б.}
\institute[ИДСТУ СО РАН, ИРНИТУ, ИМЭИ ИГУ]{\normalsize  ИДСТУ СО РАН, ИРНИТУ, ИМЭИ ИГУ}
\date[2015]{{}\\[1.5cm]
<<Винеровские чтения --- 2015>>\\
16 -- 18 апреля 2015 г.,
Иркутск
}
%\date{\today}
\maketitle

% ----------------------------------------------------------------
\begin{frame}[plain]{\textbf{Вектор-функция} }

%\begin{block}{}
  \begin{columns}[t]
    \begin{column}{0.65\textwidth}
      \def\xyz{$x_1,x_2,x_3$} \def\yaw{$x_6$} \def\pitch{$x_5$}
      \def\roll{$x_4$} \def\lift{$x_9$} \def\down{$\quad\! x_7$}
      \def\thrust{$u_1$} \def\rudder{$u_5$} \def\drag{$x_8$}
      \def\flaps{$u_2$} \def\aeleron{$u_3$} \def\engine{}
      \def\elevator{$u_4$} \def\svgwidth{\columnwidth}
      \input{pics/Cessna-Plane.pdf_tex}
    \end{column}
    \begin{column}{0.35\textwidth}
      \begin{block}{Состояние, управление}%
        \begin{align*}
          &\vec{x}=\mathbf{x}=\langle x_1,x_2,\ldots,x_n\rangle,\\
          &n=9,\\
          &\vec{u}=\mathbf{u}=\langle u_1,u_2,\ldots,u_m\rangle,\\
          &m=5,\\
          &\vec{f}=\mathbf{f}.
        \end{align*}
      \end{block}
    \end{column}
  \end{columns}
%\end{block}
\begin{block}{Уравнение движения}
  \begin{align*}
&\mathbf{x}(t)=\mathbf{f}(t,\mathbf{x}(t),\mathbf{u}(t)),\quad t \in T=[t_0,t_1], \\
&\mathbf{x}(t_0)=\mathbf{x}_0,\quad \mathbf{x}(t)\in \mathbb{R}^n,\; \mathbf{u}(t) \in \mathbb{R}^m,\quad t\in T, \\
&I(\mathbf{x},\mathbf{u})=\int\limits_{t_0}^{t_1}f^0(t,\mathbf{x}(t),\mathbf{u}(t)) \to \min.
  \end{align*}
\end{block}
\end{frame}
\begin{frame}{\textbf{Постановка задачи} }
\begin{block}{Уравнение движения (дискретный вариант)}
  \begin{align}
&\mathbf{x}(t+1)=\mathbf{f}(t,\mathbf{x}(t),\mathbf{u}(t)),\quad t \in T=\{t_0,t_0+1,...,t_1\},
	\label{eq100} \\
&\mathbf{x}(t_0)=\mathbf{x}_0,\quad \mathbf{x}(t)\in \mathbb{R}^n,\; \mathbf{u}(t) \in \mathbb{R}^m,\quad t\in T,\label{eq100a} \\
&I(\mathbf{x},\mathbf{u})=F(\mathbf{x}(t_1))+ \sum_{t_0}^{t_1-1}f^0(t,\mathbf{x}(t),\mathbf{u}(t)) \to \min.
  \label{eq103}
  \end{align}
\end{block}
\begin{block}{Задача улучшения}
  Пусть заданы управление $\mathbf{u}^I(t)$ и соответствующее состояние $\mathbf{x}^I(t)$. Требуется найти $\mathbf{x}^{I\!I}(t),$ $\mathbf{u}^{I\!I}(t)$ такие, что
\[
I(\mathbf{x}^{I\!I},\mathbf{u}^{I\!I}) < I(\mathbf{x}^I,\mathbf{u}^I).
\]
 \end{block}
\end{frame}
% ---------------------------------------------------------
\def\H{\mathbf{H}}
\def\x{\mathbf{x}}
\def\u{\mathbf{u}}
\def\f{\mathbf{f}}
\def\F{\mathbf{F}}
\def\bpsi{\mathbf{\psi}}
% ----------------------------------------------------------------
\begin{frame}[shrink]{\textbf{Алгоритм первого порядка} }
%\begin{block}{}
\begin{enumerate}
 \item[1.] Задается начальное управление $\mathbf{u}^I(t)$, из уравнения \eqref{eq100} и условий \eqref{eq100a} определяется $\mathbf{x}^I(t)$. Вычисляется $I(\mathbf{x}^I,\mathbf{u}^I).$
 \item[2.] Из системы $\mathbf{\psi}(t)=\mathbf{H}_\mathbf{x},\;\bpsi(t_1)=-\F_\x,$ находим $\bpsi(t),$\\ где $\bpsi(t)$ --- $n$-вектор, $\H_\u(t,\x,\bpsi(t+1),\u)=\bpsi^{T}(t+1)\times\f(t,\x,\u)-f^{0}(t,\x,\u),$ производные функции $H$ по $\u$ ($\H_\u$) находятся в точке $\left(t,\x^{I}(t),\bpsi \left(t+1 \right),\u^{I}(t)\right)$. Задается параметр $\alpha$.
 \item[3.] Из системы $\x(t+1)=\f(t,\x(t),\u^{I\!I}(t)), \x(t_0)=\x_0,$ где $\u^{I\!I}(t)=\u^{I}(t)+\alpha \H_\u,$ вычисляется $\x^{I\!I}(t).$
 \item[4.] Новое управление и значение параметра $\alpha$ подсчитываются из решения задачи одномерной минимизации для функционала $I(\x^{I\!I},\u^{I\!I})\to \min\limits_{\alpha}.$
 \item[5.] Если $I\left(\x^{I\!I},\u^{I\!I}\right)\geq I\left(\x^{I},\u^{I}\right)$ (улучшение не произошло), то уменьшаем $\alpha$ и переходим к следующей итерации, начиная с пункта~3.
 \item[6.] Иначе, если $I\left(\x^{I\!I},\u^{I\!I}\right) - I\left(\x^{I},\u^{I}\right)>\epsilon$, то переходим к следующей итерации, начиная с пункта~2. Значение $\epsilon$ --- параметр точности.
\end{enumerate}
%\end{block}
\end{frame}
% ----------------------------------------------------------------

\begin{frame}[fragile]{Задание модели}
\begin{lstlisting}
class LinModel1(Model):
    def __init__(self):
        X0=(1.0,)
        self.h = Ht
        self.num = int((1.0-0.0) / self.h)
        self.T = linspace(start=0.0, stop=1.0, num=self.num)
        self.t = arange(len(self.T))
        Model.__init__(self, X0=X0, U0=self.start_control())

    def start_control(self):
        U = [(0.0,) for t in self.t[:-1]]
        return array(U)

    def F(self, x):
        return 0.0

    def f(self, t, x, u):
        x0=x[0]; u0=u[0]
        return (x0+self.h*u0,)

    def f0(self, t, x, u):
        x0=x[0]; u0=u[0]
        return self.h * (x0*x0+u0*u0)
\end{lstlisting}
\end{frame}

%------------ Conclusion ----------------------------------------
\begin{frame}{Заключение}
  \begin{block}{Результаты}
    \begin{itemize}
    \item Разработана первая версия библиотеки дифференцирования
      вектор-функций, поддерживающей библиотеки \texttt{numpy}
      и \texttt{scipy};
    \item Использование библиотеки продемонстрировано на примере;
    \item Осуществляется реализация метода второго порядка.
    \end{itemize}
    Использование библиотеки позволяет повысить и точность и
    производительность вычислений.
  \end{block}
\begin{block}{Задачи на будущее}
  \begin{itemize}
  \item На основе методов \texttt{diff}, \texttt{lambdify} и \texttt{fun} реализовать генераторы кода разных вариантов $\f$, $\f^0$, $\F$.
  \item Разработать эффективные процедуры для вычисления $\bpsi$, $\H_\u$ и $\x$.
  \item Разработать методику представления схемы алгоритма улучшения и странслировать ее реализацию в компилируемый язык (C, C++, Fortran и т.~п.).
  \end{itemize}
\end{block}
\end{frame}

\begin{frame}{}
\vfill\vfill\vfill
\vfill
\begin{center}
  {\Huge\textbf{Спасибо за внимание!}}
\vspace{8em}
  \begin{block}{}
    Постоянный адрес презентации:\url{http://github.com/}
  \end{block}
\end{center}
\end{frame}
% ----------------------------------------------------------------

\end{document}
%

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
